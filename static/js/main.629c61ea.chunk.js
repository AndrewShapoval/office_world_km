(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(t,n,e){t.exports={company:"Company_company__29w0M",button:"Company_button__348ZR"}},14:function(t,n,e){t.exports={companies:"Companies_companies__1z2cC",h2:"Companies_h2__Fcb3-"}},15:function(t,n,e){t.exports={mainBlock:"Main_mainBlock__39GYl",mainContainer:"Main_mainContainer__3LEok"}},26:function(t,n,e){t.exports={wrapper:"Preloader_wrapper__3j23d"}},34:function(t,n,e){},35:function(t,n,e){},59:function(t,n,e){"use strict";e.r(n);var a=e(1),c=e(0),i=e.n(c),o=e(7),s=e.n(o),r=(e(34),e(35),e(28)),u=e(3),j=e(24),l=e.n(j).a.create({baseURL:"https://api.citybik.es/v2/"}),d=function(){return l.get("networks?fields=id,company,location").then((function(t){return t.data}))},b=function(t){return l.get("networks/".concat(t)).then((function(t){return t.data}))},p={status:"idle"},O=function(t){return{type:"SET_APP_STATUS",status:t}},m={companies:[],currentCompany:null,currentStations:[],status:"idle",favoriteStations:[""]},f=function(t){return{type:"SET_COMPANIES_STATUS",status:t}},S=function(t){return function(n){n(f("loading")),b(t.id).then((function(e){n({type:"SET_CURRENT_STATIONS",stations:e.network.stations}),n({type:"SET_CURRENT_COMPANY",company:t})})).catch((function(t){console.log(t)})).finally((function(){n(f("succeeded"))}))}},_=e(2),h=e(13),T=e.n(h),x=i.a.memo((function(t){var n=Object(_.b)(),e=Object(_.c)((function(t){var n;return null===(n=t.companiesState.currentCompany)||void 0===n?void 0:n.id}));return Object(a.jsx)("div",{className:T.a.company,children:Object(a.jsxs)("button",{className:T.a.button,onClick:function(){n(S(t.companies))},disabled:e===t.companies.id,children:[Object(a.jsxs)("div",{children:['Company: "',t.companies.company,'"']}),Object(a.jsxs)("div",{children:["City: ",t.companies&&t.companies.location.city]})]})})})),y=e(14),v=e.n(y),C=e(26),E=e.n(C),N=e.p+"static/media/preloader2.a1a99674.gif",g=function(){return Object(a.jsx)("div",{className:E.a.wrapper,children:Object(a.jsx)("img",{src:N,alt:"loading..."})})},A=function(){var t=Object(_.b)(),n=Object(_.c)((function(t){return t.companiesState.companies})),e=Object(_.c)((function(t){return t.companiesState.currentCompany})),i=Object(_.c)((function(t){return t.appState.status}));return Object(c.useEffect)((function(){t((function(t){t(O("loading")),d().then((function(n){t({type:"SET_COMPANIES",companies:n.networks})})).catch((function(t){console.log(t)})).finally((function(){t(O("succeeded"))}))}))}),[]),Object(c.useEffect)((function(){e&&t(S(e))}),[e]),Object(a.jsxs)("div",{className:v.a.companies,children:[Object(a.jsx)("h2",{className:v.a.h2,children:"Companies:"}),"loading"===i?Object(a.jsx)(g,{}):null,n?n.map((function(t){return Object(a.jsx)(x,{companies:t},t.id)})):null]})},w=e(15),I=e.n(w),k=e(6),R=e.n(k),M=e(8),P=e.n(M),F=e.p+"static/media/like.b16558c9.svg",U=e.p+"static/media/heart.c31d61db.svg",B=i.a.memo((function(t){var n=Object(_.b)(),e=Object(_.c)((function(t){return t.companiesState.favoriteStations})).find((function(n){return n===t.station.id}));return Object(a.jsxs)("div",{className:P.a.station,children:["Address: ",t.station.name,e?Object(a.jsx)("button",{className:P.a.button,onClick:function(){n({type:"REMOVE_FAVORITE_STATION",stationId:t.station.id})},children:Object(a.jsx)("img",{src:F,alt:"Favorite"})}):Object(a.jsx)("button",{className:P.a.button,onClick:function(){n({type:"SET_FAVORITE_STATION",stationId:t.station.id})},children:Object(a.jsx)("img",{src:U,alt:"Do you want to add to favourites?"})}),Object(a.jsx)("hr",{})]})})),V=function(){var t=Object(_.c)((function(t){return t.companiesState.currentStations})),n=Object(_.c)((function(t){return t.companiesState.currentCompany})),e=Object(_.c)((function(t){return t.companiesState.status}));return Object(a.jsxs)("div",{className:R.a.stations,children:[Object(a.jsxs)("h2",{className:R.a.h2,children:['Stations "',n&&n.company,'":']}),Object(a.jsxs)("h3",{className:R.a.h3,children:["City: ",n&&n.location.city]}),Object(a.jsxs)("div",{className:R.a.totalStations,children:["Total stations: ",t&&t.length]}),"loading"===e?Object(a.jsx)(g,{}):null,"loading"!==e&&t&&t.map((function(t){return Object(a.jsx)(B,{station:t},t.id)}))]})},L=function(){return Object(a.jsxs)("div",{className:I.a.mainBlock,children:[Object(a.jsx)("h1",{children:"CityBikes"}),Object(a.jsxs)("div",{className:I.a.mainContainer,children:[Object(a.jsx)(A,{}),Object(a.jsx)(V,{})]})]})},Y=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(L,{})})},D=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,60)).then((function(n){var e=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,o=n.getTTFB;e(t),a(t),c(t),i(t),o(t)}))},G=e(5),J=e(27),X=Object(G.c)({companiesState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_COMPANIES":return Object(u.a)(Object(u.a)({},t),{},{companies:n.companies,currentCompany:n.companies[0]});case"SET_CURRENT_STATIONS":return Object(u.a)(Object(u.a)({},t),{},{currentStations:n.stations});case"SET_CURRENT_COMPANY":return Object(u.a)(Object(u.a)({},t),{},{currentCompany:n.company});case"SET_COMPANIES_STATUS":return Object(u.a)(Object(u.a)({},t),{},{status:n.status});case"SET_FAVORITE_STATION":return Object(u.a)(Object(u.a)({},t),{},{favoriteStations:[n.stationId].concat(Object(r.a)(t.favoriteStations))});case"REMOVE_FAVORITE_STATION":return Object(u.a)(Object(u.a)({},t),{},{favoriteStations:t.favoriteStations.filter((function(t){return t!==n.stationId}))});default:return t}},appState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_APP_STATUS":return Object(u.a)(Object(u.a)({},t),{},{status:n.status});default:return t}}}),Z=Object(G.d)(X,Object(G.a)(J.a));window.store=Z,s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(_.a,{store:Z,children:Object(a.jsx)(Y,{})})}),document.getElementById("root")),D()},6:function(t,n,e){t.exports={stations:"Stations_stations__1w_Sw",h2:"Stations_h2__SUpjF",h3:"Stations_h3__wZXGw",totalStations:"Stations_totalStations__X90bu"}},8:function(t,n,e){t.exports={station:"Station_station__3BMfn",button:"Station_button__2wjwS"}}},[[59,1,2]]]);
//# sourceMappingURL=main.629c61ea.chunk.js.map